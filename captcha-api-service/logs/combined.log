{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T09:00:10.286Z"}
{"environment":"test","error":"SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string","level":"error","message":"Database query failed:","service":"captcha-api","text":"SELECT api_key FROM clients WHERE name = 'Test Client' LIMIT 1","timestamp":"2025-11-23T09:00:10.640Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T09:00:10.721Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T09:01:03.436Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T09:01:03.480Z"}
{"environment":"test","error":"SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string","level":"error","message":"Database query failed:","service":"captcha-api","text":"SELECT api_key FROM clients WHERE name = 'Test Client' LIMIT 1","timestamp":"2025-11-23T09:01:03.490Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T09:01:20.619Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T09:01:20.625Z"}
{"environment":"test","error":"SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string","level":"error","message":"Database query failed:","service":"captcha-api","text":"SELECT api_key FROM clients WHERE name = 'Test Client' LIMIT 1","timestamp":"2025-11-23T09:01:20.649Z"}
{"level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:00:41.165Z"}
{"code":"42601","file":"scan.l","length":146,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"117","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:7)","timestamp":"2025-11-23T10:00:42.144Z"}
{"environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:00:42.466Z"}
{"code":"42P07","environment":"test","file":"heap.c","length":101,"level":"error","line":"1150","message":"Migration failed: relation \"clients\" already exists","name":"error","routine":"heap_create_with_catalog","service":"captcha-api","severity":"ERROR","stack":"error: relation \"clients\" already exists\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:7)","timestamp":"2025-11-23T10:00:42.513Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:06:20.967Z"}
{"code":"42P07","file":"heap.c","length":101,"level":"error","line":"1150","message":"Migration failed: relation \"clients\" already exists","name":"error","routine":"heap_create_with_catalog","service":"captcha-api","severity":"ERROR","stack":"error: relation \"clients\" already exists\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:06:21.010Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:06:21.288Z"}
{"code":"42601","environment":"test","file":"scan.l","length":146,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"117","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:06:22.066Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T10:06:47.543Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T10:06:47.549Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T10:07:12.010Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T10:07:12.022Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:07:22.770Z"}
{"code":"42P07","file":"heap.c","length":101,"level":"error","line":"1150","message":"Migration failed: relation \"clients\" already exists","name":"error","routine":"heap_create_with_catalog","service":"captcha-api","severity":"ERROR","stack":"error: relation \"clients\" already exists\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:07:22.813Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:07:23.092Z"}
{"code":"42P07","environment":"test","file":"heap.c","length":101,"level":"error","line":"1150","message":"Migration failed: relation \"clients\" already exists","name":"error","routine":"heap_create_with_catalog","service":"captcha-api","severity":"ERROR","stack":"error: relation \"clients\" already exists\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:07:23.135Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:12:22.785Z"}
{"code":"42601","file":"scan.l","length":145,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"74","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:12:23.421Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:12:23.706Z"}
{"code":"42601","environment":"test","file":"scan.l","length":145,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"74","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:12:24.273Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:37:50.579Z"}
{"code":"42601","file":"scan.l","length":138,"level":"error","line":"1244","message":"Migration failed: unterminated quoted string at or near \"'\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"157","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated quoted string at or near \"'\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:37:52.455Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:37:52.800Z"}
{"code":"42601","environment":"test","file":"scan.l","length":138,"level":"error","line":"1244","message":"Migration failed: unterminated quoted string at or near \"'\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"157","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated quoted string at or near \"'\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:37:53.683Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:43:51.556Z"}
{"code":"42601","file":"scan.l","length":146,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"140","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:43:52.193Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T10:43:52.470Z"}
{"code":"42601","environment":"test","file":"scan.l","length":146,"level":"error","line":"1244","message":"Migration failed: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"","name":"error","position":"140","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: unterminated dollar-quoted string at or near \"$$\nBEGIN\n    NEW.updated_at = NOW()\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:49:9)","timestamp":"2025-11-23T10:43:52.975Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:01:04.451Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:01:04.494Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:01:04.772Z"}
{"code":"42601","environment":"test","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:01:04.816Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:02:42.027Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:02:42.069Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:02:42.347Z"}
{"code":"42601","environment":"test","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:02:42.390Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:02:55.106Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:02:55.149Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:03:09.648Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:03:09.690Z"}
{"database":"captcha_test_db","environment":"test","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:03:09.967Z"}
{"code":"42601","environment":"test","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:03:10.009Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:18:26.724Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:18:26.822Z"}
{"environment":"development","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:22:33.315Z"}
{"environment":"development","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:22:33.321Z"}
{"database":"captcha_db","environment":"development","level":"info","message":"Database connection test successful","service":"captcha-api","timestamp":"2025-11-23T11:22:33.351Z"}
{"environment":"development","level":"info","message":"Database connection established","service":"captcha-api","timestamp":"2025-11-23T11:22:33.352Z"}
{"environment":"development","level":"info","message":"CAPTCHA API Service running on port 3000","service":"captcha-api","timestamp":"2025-11-23T11:22:33.356Z"}
{"environment":"development","level":"info","message":"Environment: development","service":"captcha-api","timestamp":"2025-11-23T11:22:33.356Z"}
{"environment":"development","level":"info","message":"Health check available at http://localhost:3000/api/v1/health","service":"captcha-api","timestamp":"2025-11-23T11:22:33.357Z"}
{"environment":"development","level":"info","message":"SIGINT received, shutting down gracefully","service":"captcha-api","timestamp":"2025-11-23T11:22:39.524Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:24:16.581Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:24:16.617Z"}
{"apiKey":"test***abcd","environment":"test","level":"warn","message":"API key validation failed","service":"captcha-api","timestamp":"2025-11-23T11:24:16.650Z"}
{"apiKey":"test***abcd","environment":"test","error":"Invalid API key","level":"warn","message":"API key validation failed","service":"captcha-api","timestamp":"2025-11-23T11:24:16.650Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:24:16 +0000] \"POST /api/v1/challenge HTTP/1.1\" 401 61 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:24:16.653Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:24:16 +0000] \"POST /api/v1/challenge HTTP/1.1\" 401 95 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:24:16.667Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:24:16 +0000] \"GET /api/v1/health HTTP/1.1\" 200 137 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:24:16.682Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:28:45.164Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:28:45.199Z"}
{"apiKey":"test***abcd","environment":"test","level":"warn","message":"API key validation failed","service":"captcha-api","timestamp":"2025-11-23T11:28:45.233Z"}
{"apiKey":"test***abcd","environment":"test","error":"Invalid API key","level":"warn","message":"API key validation failed","service":"captcha-api","timestamp":"2025-11-23T11:28:45.234Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:28:45 +0000] \"POST /api/v1/challenge HTTP/1.1\" 401 61 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:28:45.237Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:28:45 +0000] \"POST /api/v1/challenge HTTP/1.1\" 401 95 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:28:45.250Z"}
{"environment":"test","level":"info","message":"::ffff:127.0.0.1 - - [23/Nov/2025:11:28:45 +0000] \"GET /api/v1/health HTTP/1.1\" 200 137 \"-\" \"-\"","service":"captcha-api","timestamp":"2025-11-23T11:28:45.260Z"}
{"environment":"test","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:32:20.623Z"}
{"environment":"test","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:32:20.628Z"}
{"environment":"test","error":"value too long for type character varying(64)","level":"error","message":"Database query failed:","service":"captcha-api","text":"INSERT INTO clients (api_key, name, plan_type, monthly_limit) \n       VALUES ($1, $2, $3, $4) \n     ...","timestamp":"2025-11-23T11:32:20.669Z"}
{"environment":"development","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T11:50:37.846Z"}
{"environment":"development","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T11:50:37.853Z"}
{"database":"captcha_db","environment":"development","level":"info","message":"Database connection test successful","service":"captcha-api","timestamp":"2025-11-23T11:50:37.882Z"}
{"environment":"development","level":"info","message":"Database connection established","service":"captcha-api","timestamp":"2025-11-23T11:50:37.883Z"}
{"environment":"development","level":"info","message":"CAPTCHA API Service running on port 3000","service":"captcha-api","timestamp":"2025-11-23T11:50:37.884Z"}
{"environment":"development","level":"info","message":"Environment: development","service":"captcha-api","timestamp":"2025-11-23T11:50:37.884Z"}
{"environment":"development","level":"info","message":"Health check available at http://localhost:3000/api/v1/health","service":"captcha-api","timestamp":"2025-11-23T11:50:37.885Z"}
{"environment":"development","level":"info","message":"::1 - - [23/Nov/2025:11:54:45 +0000] \"GET / HTTP/1.1\" 404 41 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36\"","service":"captcha-api","timestamp":"2025-11-23T11:54:45.496Z"}
{"environment":"development","level":"info","message":"::1 - - [23/Nov/2025:11:54:45 +0000] \"GET /favicon.ico HTTP/1.1\" 404 52 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36\"","service":"captcha-api","timestamp":"2025-11-23T11:54:45.817Z"}
{"environment":"development","level":"info","message":"SIGINT received, shutting down gracefully","service":"captcha-api","timestamp":"2025-11-23T11:55:04.707Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T11:55:20.503Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T11:55:20.548Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:42:54.806Z"}
{"code":"42601","file":"scan.l","length":89,"level":"error","line":"1244","message":"Migration failed: syntax error at or near \"-\"","name":"error","position":"1","routine":"scanner_yyerror","service":"captcha-api","severity":"ERROR","stack":"error: syntax error at or near \"-\"\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:127:11)","timestamp":"2025-11-23T12:42:54.855Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:45:33.802Z"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Migration failed: value too long for type character varying(64)","name":"error","routine":"varchar","service":"captcha-api","severity":"ERROR","stack":"error: value too long for type character varying(64)\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate-fixed.js:25:5)","timestamp":"2025-11-23T12:45:34.448Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:46:35.777Z"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Migration failed: value too long for type character varying(64)","name":"error","routine":"varchar","service":"captcha-api","severity":"ERROR","stack":"error: value too long for type character varying(64)\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate.js:59:5)","timestamp":"2025-11-23T12:46:36.236Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:47:11.604Z"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Migration failed: value too long for type character varying(64)","name":"error","routine":"varchar","service":"captcha-api","severity":"ERROR","stack":"error: value too long for type character varying(64)\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate-fixed.js:25:5)","timestamp":"2025-11-23T12:47:12.152Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:50:48.201Z"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Migration failed: value too long for type character varying(64)","name":"error","routine":"varchar","service":"captcha-api","severity":"ERROR","stack":"error: value too long for type character varying(64)\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate-fixed.js:25:5)","timestamp":"2025-11-23T12:50:48.803Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:53:30.476Z"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Migration failed: value too long for type character varying(64)","name":"error","routine":"varchar","service":"captcha-api","severity":"ERROR","stack":"error: value too long for type character varying(64)\n    at /home/habib-shah/project/captcha-api-service/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runMigrations (/home/habib-shah/project/captcha-api-service/scripts/migrate-fixed.js:25:5)","timestamp":"2025-11-23T12:53:31.078Z"}
{"database":"captcha_db","level":"info","message":"Starting database migrations...","service":"captcha-api","timestamp":"2025-11-23T12:54:30.888Z"}
{"level":"info","message":"Database migrations completed successfully","service":"captcha-api","timestamp":"2025-11-23T12:54:31.440Z"}
{"environment":"development","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T12:55:17.030Z"}
{"environment":"development","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T12:55:17.037Z"}
{"database":"captcha_db","environment":"development","level":"info","message":"Database connection test successful","service":"captcha-api","timestamp":"2025-11-23T12:55:17.063Z"}
{"environment":"development","level":"info","message":"Database connection established","service":"captcha-api","timestamp":"2025-11-23T12:55:17.063Z"}
{"environment":"development","level":"info","message":"CAPTCHA API Service running on port 3000","service":"captcha-api","timestamp":"2025-11-23T12:55:17.066Z"}
{"environment":"development","level":"info","message":"Environment: development","service":"captcha-api","timestamp":"2025-11-23T12:55:17.066Z"}
{"environment":"development","level":"info","message":"Health check available at http://localhost:3000/api/v1/health","service":"captcha-api","timestamp":"2025-11-23T12:55:17.067Z"}
{"environment":"development","level":"info","message":"SIGINT received, shutting down gracefully","service":"captcha-api","timestamp":"2025-11-23T12:55:49.163Z"}
{"environment":"development","level":"info","message":"Redis client connected","service":"captcha-api","timestamp":"2025-11-23T13:12:02.098Z"}
{"environment":"development","level":"info","message":"Redis client ready","service":"captcha-api","timestamp":"2025-11-23T13:12:02.104Z"}
{"database":"captcha_db","environment":"development","level":"info","message":"Database connection test successful","service":"captcha-api","timestamp":"2025-11-23T13:12:02.235Z"}
{"environment":"development","level":"info","message":"Database connection established","service":"captcha-api","timestamp":"2025-11-23T13:12:02.236Z"}
{"environment":"development","level":"info","message":"CAPTCHA API Service running on port 3000","service":"captcha-api","timestamp":"2025-11-23T13:12:02.238Z"}
{"environment":"development","level":"info","message":"Environment: development","service":"captcha-api","timestamp":"2025-11-23T13:12:02.238Z"}
{"environment":"development","level":"info","message":"Health check available at http://localhost:3000/api/v1/health","service":"captcha-api","timestamp":"2025-11-23T13:12:02.238Z"}
{"environment":"development","level":"info","message":"SIGINT received, shutting down gracefully","service":"captcha-api","timestamp":"2025-11-23T13:12:10.764Z"}
{"code":"42703","duration":1659,"error":"column \"site_key\" does not exist","level":"error","message":"Query failed","queryId":"v5qd6x6","service":"captcha-api","text":"SELECT id, site_key FROM clients","timestamp":"2025-11-28T02:45:53.492Z"}
